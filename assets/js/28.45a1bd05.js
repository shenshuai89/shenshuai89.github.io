(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{339:function(t,s,a){"use strict";a.r(s);var e=a(7),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("案例原文："),s("a",{attrs:{href:"https://nextjs.org/learn/dashboard-app/getting-started",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://nextjs.org/learn/dashboard-app/getting-started"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"创建新项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建新项目"}},[t._v("#")]),t._v(" 创建新项目")]),t._v(" "),s("p",[t._v("要创建Next.js应用程序，请打开您的终端；切换到要保存项目的文件夹中，然后运行以下命令")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("npx create-next-app@latest nextjs-dashboard "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--example")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/vercel/next-learn/tree/main/dashboard/starter-example"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("下载该模板代码，为课程提供了很多必备的操作。\n此命令使用create-next应用程序，这是一个命令行界面（CLI）工具，用于为您设置next.js应用程序。\n在上面的命令中，您还将--example标志与本课程的起始示例一起使用。")]),t._v(" "),s("h2",{attrs:{id:"探索项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#探索项目"}},[t._v("#")]),t._v(" 探索项目")]),t._v(" "),s("p",[t._v("与从头开始编写代码的教程不同，本课程的大部分代码都是为您编写的；这更好地反映了真实世界的开发，您可能会在其中使用现有的代码库。\n我们的目标是帮助您集中精力学习Next.js的主要功能，而不必编写所有的应用程序代码。\n安装后，在代码编辑器中打开项目，并导航到 nextjs-dashboard。")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" nextjs-dashboard\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("让我们花点时间探讨一下这个项目。")]),t._v(" "),s("h2",{attrs:{id:"目录文件夹结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录文件夹结构"}},[t._v("#")]),t._v(" 目录文件夹结构")]),t._v(" "),s("p",[t._v("您会注意到该项目具有以下文件夹结构：\n"),s("img",{attrs:{src:"/assets/images/nextjs/01-1image.png",alt:"image.png"}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("/app")]),t._v("：包含应用程序的所有路由、组件和逻辑，这是您主要工作的地方。")]),t._v(" "),s("li",[s("code",[t._v("/app/lib")]),t._v("：包含应用程序中使用的函数，例如可重复使用的实用程序函数和数据提取函数。")]),t._v(" "),s("li",[s("code",[t._v("/app/ui")]),t._v("：包含应用程序的所有UI组件，如卡片、表格和表单。为了节省时间，我们为您预先设计了这些组件的样式。")]),t._v(" "),s("li",[s("code",[t._v("/public")]),t._v("：含应用程序的所有静态资源，如图像。")]),t._v(" "),s("li",[s("code",[t._v("/scripts")]),t._v("：包含一个初始化数据库脚本，您将在后面的章节中使用该脚本填充数据库。")]),t._v(" "),s("li",[t._v("Config 目录：您还会注意到配置文件，如 "),s("code",[t._v("next.config.js")]),t._v(" 位于应用程序的根目录。这些文件中的大多数都是在您使用"),s("code",[t._v("create-next-app")]),t._v("启动新项目时创建和预配置的。您不需要在本课程中修改它们。")])]),t._v(" "),s("h2",{attrs:{id:"预置的数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预置的数据"}},[t._v("#")]),t._v(" 预置的数据")]),t._v(" "),s("p",[t._v("当您构建用户界面时，拥有一些默认数据会有所帮助。如果数据库或API还不可用时，您可以模拟数据：")]),t._v(" "),s("ul",[s("li",[t._v("使用JSON格式的预置数据或作为JavaScript对象")]),t._v(" "),s("li",[t._v("使用第三方服务，如 "),s("a",{attrs:{href:"https://mockapi.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mockAPI"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("对于这个项目，我们在中提供了一些预置数据 "),s("code",[t._v("app/lib/placeholder-data.js")]),t._v("。文件中的每个JavaScript对象表示数据库中的一个表。例如，对于发票表：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" invoices "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customer_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15795")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("status")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pending'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("date")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2022-12-06'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customer_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20348")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("status")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pending'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("date")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2022-11-14'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[t._v("在关于设置数据库的一章中，您将使用这些数据为数据库初始化数据（用一些初始数据填充它）。")]),t._v(" "),s("h2",{attrs:{id:"typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[t._v("#")]),t._v(" TypeScript")]),t._v(" "),s("p",[t._v("您可能还注意到，大多数文件都有.ts或.tsx后缀。这是因为该项目是用TypeScript编写的。\n如果您不了解TypeScript，也可以-我们将在需要时提供TypeScript代码片段。\n现在，看看这个文件"),s("code",[t._v("/app/lib/definitions.ts")]),t._v("，在这里，我们手动定义将从数据库返回的类型。例如，发票表具有以下类型：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" type Invoice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customer_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("date")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// In TypeScript, this is called a string union type.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// It means that the \"status\" property can only be one of the two strings: 'pending' or 'paid'.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("status")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pending'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'paid'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("通过使用TypeScript，您可以确保不会意外地将错误的数据格式传递到组件或数据库，比如将 "),s("code",[t._v("string")]),t._v("而不是 "),s("code",[t._v("number")]),t._v("传递到发票 "),s("code",[t._v("amount")]),t._v("。")]),t._v(" "),s("blockquote",[s("p",[t._v("如果您是TypeScript开发人员：")]),t._v(" "),s("ul",[s("li",[t._v("我们手动声明数据类型，但为了更好的类型安全性，我们建议使用Prisma，它会根据您的数据库架构自动生成类型。")]),t._v(" "),s("li",[t._v("Next.js检测您的项目是否使用TypeScript，并自动安装必要的包和配置。Next.js还为您的代码编辑器提供了TypeScript插件，以帮助实现自动完成和类型安全。")])])]),t._v(" "),s("h2",{attrs:{id:"运行开发服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行开发服务器"}},[t._v("#")]),t._v(" 运行开发服务器")]),t._v(" "),s("p",[t._v("运行"),s("code",[t._v("pnpm i")]),t._v("以安装项目的包。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("pnpm i\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("接下来是"),s("code",[t._v("pnpm dev")]),t._v("来启动开发服务器。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("pnpm dev\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("code",[t._v("pnpm dev")]),t._v("在端口3000上启动Next.js开发服务器。您可以选择使用npm或首选的包管理器，而不是pnpm。\n让我们检查一下它是否有效。打开"),s("code",[t._v("http://localhost:3000")]),t._v("在您的浏览器上。您的主页应该如下所示：\n"),s("img",{attrs:{src:"/assets/images/nextjs/01-2image.png",alt:"image.png"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);